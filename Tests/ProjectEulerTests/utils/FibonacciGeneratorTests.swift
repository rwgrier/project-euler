import Testing
@testable import ProjectEuler

@Suite("Fibonacci Generator")
struct FibonacciGeneratorTests {
    var subject: FibonacciGenerator = .init()

    @Test(arguments:
            zip(0..<71,
                [
                    0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584,
                    4181, 6765, 10_946, 17_711, 28_657, 46_368, 75_025, 121_393, 196_418, 317_811,
                    514_229, 832_040, 1_346_269, 2_178_309, 3_524_578, 5_702_887, 9_227_465,
                    14_930_352, 24_157_817, 39_088_169, 63_245_986, 102_334_155, 165_580_141,
                    267_914_296, 433_494_437, 701_408_733, 1_134_903_170, 1_836_311_903, 2_971_215_073,
                    4_807_526_976, 7_778_742_049, 12_586_269_025, 20_365_011_074, 32_951_280_099,
                    53_316_291_173, 86_267_571_272, 139_583_862_445, 225_851_433_717, 365_435_296_162,
                    591_286_729_879, 956_722_026_041, 1_548_008_755_920, 2_504_730_781_961,
                    4_052_739_537_881, 6_557_470_319_842, 10_610_209_857_723, 17_167_680_177_565,
                    27_777_890_035_288, 44_945_570_212_853, 72_723_460_248_141, 117_669_030_460_994,
                    190_392_490_709_135
                ])
    )
    func test_FibonacciGenerator(index: Int, expected: Int) {
        let result = subject.fibonacci(at: index)
        #expect(result == expected)
    }
}
